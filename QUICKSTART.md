# Quickstart Guide

## 1. Enable GitHub Pages

1. Go to: https://github.com/XDcobra/maven/settings/pages
2. Under "Build and deployment":
   - **Source**: Deploy from a branch
   - **Branch**: Select `main` (or `master`) and `/` (root)
3. Click "Save"
4. Wait a few minutes for the site to be published
5. The URL will be: `https://xdcobra.github.io/maven/`

## 2. Publish the first AAR file

### Option A: Using the script (recommended)

```bash
# Syntax
./publish-artifact.sh <groupId> <artifactId> <version> <path-to-aar-file>

# Example for sherpa-onnx
./publish-artifact.sh com.k2fsa.sherpa.onnx sherpa-onnx 1.0.0 /path/to/sherpa-onnx.aar

# Then commit and push
git add com/
git commit -m "Add sherpa-onnx version 1.0.0"
git push
```

### Option B: Manual

```bash
# Create directory
mkdir -p com/k2fsa/sherpa/onnx/sherpa-onnx/1.0.0
cd com/k2fsa/sherpa/onnx/sherpa-onnx/1.0.0

# Copy the AAR
cp /path/to/your.aar sherpa-onnx-1.0.0.aar

# Create POM
cat > sherpa-onnx-1.0.0.pom <<EOF
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0">
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.k2fsa.sherpa.onnx</groupId>
  <artifactId>sherpa-onnx</artifactId>
  <version>1.0.0</version>
  <packaging>aar</packaging>
</project>
EOF

# Generate checksums
md5sum sherpa-onnx-1.0.0.aar | cut -d' ' -f1 > sherpa-onnx-1.0.0.aar.md5
sha1sum sherpa-onnx-1.0.0.aar | cut -d' ' -f1 > sherpa-onnx-1.0.0.aar.sha1
md5sum sherpa-onnx-1.0.0.pom | cut -d' ' -f1 > sherpa-onnx-1.0.0.pom.md5
sha1sum sherpa-onnx-1.0.0.pom | cut -d' ' -f1 > sherpa-onnx-1.0.0.pom.sha1

# Back to the repository root
cd ../../../../../..

# Update maven-metadata.xml (see README.md for details)

# Commit
git add com/
git commit -m "Add sherpa-onnx version 1.0.0"
git push
```

## 3. Use in an Android project

```gradle
// build.gradle
repositories {
    maven {
        url 'https://xdcobra.github.io/maven/'
    }
}

dependencies {
    implementation 'com.k2fsa.sherpa.onnx:sherpa-onnx:1.0.0'
}
```

## 4. Verify

After pushing:
1. Wait 1–2 minutes
2. Visit: https://xdcobra.github.io/maven/
3. Check Actions: https://github.com/XDcobra/maven/actions
4. Test the Maven URL in your project

## Important links

- **GitHub Pages URL**: https://xdcobra.github.io/maven/
- **Repository**: https://github.com/XDcobra/maven
- **Settings**: https://github.com/XDcobra/maven/settings/pages
- **Actions**: https://github.com/XDcobra/maven/actions

## Common issues

### GitHub Pages shows 404
- Make sure GitHub Pages is enabled in the repository settings
- Wait 2–5 minutes after the first push
- Check the Actions tab for errors

### Maven dependency not found
- Verify the URL: `https://xdcobra.github.io/maven/` (include trailing slash)
- Ensure files are named correctly
- Verify the path: `com/k2fsa/sherpa/onnx/sherpa-onnx/1.0.0/`

### Where to find the react-native-sherpa-onnx AAR file
The AAR is usually generated by the Android project build at:
```
android/app/build/outputs/aar/
```
or
```
node_modules/react-native-sherpa-onnx/android/build/outputs/aar/
```

Build the project:
```bash
cd android
./gradlew assembleRelease
# Or for the specific AAR
./gradlew :react-native-sherpa-onnx:assembleRelease
```
